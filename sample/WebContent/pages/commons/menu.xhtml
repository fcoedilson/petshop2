<?xml version='1.0' encoding='UTF-8'?>

<!DOCTYPE html>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<div id="topo" style="display:none">

    	<h1 style="margin-left: 20px;">Clinipet</h1>

   	</div>

	<p:growl id="message" />


	<div id="menu">

		<p:menubar styleClass="toolBar" contentClass="toolBarContent" height="15px">

			<p:submenu label="Cadastros" rendered="#{controlBean.hasRole('MENU_CADASTRO')}">

				<f:facet name="label"><h:outputText value="Cadastros" /></f:facet>
				
				<p:menuitem value="Clientes" type="submit" action="#{clienteBean.search}" url="#{pageContext.servletContext.contextPath}/pages/cadastros/cliente/clienteList.jsf" ajax="false"/>
				<p:menuitem value="Funcionario" actionListener="#{funcionarioBean.search}"  url="#{pageContext.servletContext.contextPath}/pages/cadastros/funcionario/funcionarioList.jsf" />
				<p:menuitem value="Médico" actionListener="#{medicoBean.search}"  url="#{pageContext.servletContext.contextPath}/pages/cadastros/medico/medicolList.jsf" />
				<p:menuitem value="Perfis" actionListener="#{perfilBean.search}"  url="#{pageContext.servletContext.contextPath}/pages/cadastros/perfil/perfilList.jsf" />
				<p:menuitem value="Usuários" actionListener="#{usuarioBean.search}"  url="#{pageContext.servletContext.contextPath}/pages/cadastros/usuario/usuarioList.jsf" />
			
			</p:submenu>

			<p:submenu label="Caixa" rendered="#{controlBean.hasRole('MENU_CAIXA')}">
			
			</p:submenu>

			<p:submenu label="Serviços" rendered="#{controlBean.hasRole('MENU_SERVICO')}">
			
			</p:submenu>


			<p:submenu label="Relatórios" rendered="#{controlBean.hasRole('MENU_RELATORIOS')}">
			
			</p:submenu>
			
			<p:menuitem>
					<h:outputText value="user:#{controlBean.usuario.login} perfil:#{controlBean.role.nome}" />
			</p:menuitem>

			<f:facet name="options">
				<p:inputText style="margin-right:10px" placeholder="Search" />
				<p:commandButton type="button"  value="Sair"  icon="ui-icon-extlink">
					<p:ajax event="click" listener="#{controlBean.logout}" update="mainForm"  />
					<p:link href="../j_spring_security_logout"/>
				</p:commandButton>
			</f:facet>

		</p:menubar>

		

	</div>

	<hr/>
	

</ui:composition>
